# 数据安全管理功能使用指南

## 功能概述

数据安全管理模块用于管理数据访问权限、脱敏规则、审计日志等安全策略，确保数据安全合规。

## 核心功能

### 1. 新增安全策略 ➕

**功能说明**：
创建新的数据安全策略，定义安全规则和控制措施。

**表单字段**：

**必填项**：
- **策略名称**：清晰描述策略用途（如：敏感数据访问策略）
- **策略类型**：选择策略类别
  - 访问控制
  - 数据脱敏
  - 数据加密
  - 审计监控
  - 数据备份
  - 权限管理
- **安全级别**：选择安全等级
  - 高 - 核心数据保护
  - 中 - 重要数据保护
  - 低 - 一般数据保护
- **策略描述**：详细说明策略的作用和适用范围

**选填项**：
- **适用范围**：指定策略应用的数据范围
- **执行规则**：描述策略的具体执行规则
- **启用状态**：是否立即启用该策略

**使用步骤**：
1. 点击页面右上角"新增策略"按钮
2. 填写策略基本信息
3. 选择策略类型和安全级别
4. 输入策略描述和执行规则
5. 设置适用范围
6. 选择是否立即启用
7. 点击"创建"保存

**示例**：
```
策略名称：个人信息访问控制
策略类型：访问控制
安全级别：高
策略描述：限制对包含个人身份信息的数据表的访问权限
适用范围：student_info, teacher_info, employee_info
执行规则：
1. 仅授权人员可访问
2. 访问需要审批
3. 记录所有访问日志
4. 数据导出需要加密
启用状态：是
```

### 2. 编辑安全策略 ✏️

**功能说明**：
修改现有安全策略的配置信息。

**可编辑内容**：
- 策略名称
- 策略类型
- 安全级别
- 策略描述
- 适用范围
- 执行规则
- 启用状态

**使用步骤**：
1. 在"安全策略"标签页找到要编辑的策略
2. 点击操作列的"编辑"按钮（铅笔图标）
3. 修改相关信息
4. 点击"保存"

**注意事项**：
- ⚠️ 修改策略可能影响现有的数据访问
- ⚠️ 建议在非业务高峰期进行修改
- ⚠️ 修改后会记录更新时间

### 3. 查看策略详情 👁️

**功能说明**：
查看安全策略的完整信息和应用统计。

**详情内容**：

**基本信息**：
- 策略ID
- 策略名称
- 策略类型
- 安全级别
- 当前状态
- 创建时间
- 更新时间

**策略详情**：
- 策略描述
- 适用范围
- 执行规则

**应用统计**：
- 应用次数
- 成功次数
- 失败次数

**使用步骤**：
1. 在策略列表中找到要查看的策略
2. 点击操作列的"查看详情"按钮（眼睛图标）
3. 查看完整的策略信息
4. 可以直接点击"编辑策略"按钮进行修改
5. 点击"关闭"退出详情页

**快捷操作**：
- 在详情页可以直接点击"编辑策略"按钮
- 无需关闭详情页即可进入编辑模式

### 4. 切换策略状态 🔄

**功能说明**：
快速启用或禁用安全策略。

**使用步骤**：
1. 找到要切换状态的策略
2. 点击操作列的"切换状态"按钮（电源图标）
3. 确认操作
4. 系统自动更新状态

**状态说明**：
- **启用**：策略正在生效，会应用到相关数据
- **禁用**：策略暂停生效，不会应用到数据

## 页面功能

### 统计卡片
显示四个关键指标：
- **安全策略**：已创建的策略总数
- **脱敏规则**：已启用的脱敏规则数
- **访问控制**：已启用的访问控制数
- **今日访问**：今天的数据访问次数

### 标签页
- **安全策略**：查看和管理所有安全策略
- **脱敏规则**：查看数据脱敏规则
- **访问控制**：查看访问权限控制
- **审计日志**：查看数据访问审计日志

### 搜索和筛选
- **搜索框**：按策略名称、规则搜索
- **状态筛选**：按启用/禁用状态筛选

## 策略类型说明

### 1. 访问控制
**用途**：限制数据访问权限
**示例**：
- 敏感数据访问需要审批
- 按角色分配访问权限
- IP白名单访问控制

### 2. 数据脱敏
**用途**：对敏感数据进行脱敏处理
**示例**：
- 身份证号中间遮挡
- 手机号部分隐藏
- 银行卡号脱敏显示

### 3. 数据加密
**用途**：对核心数据进行加密存储
**示例**：
- 密码加密存储
- 敏感字段加密
- 传输数据加密

### 4. 审计监控
**用途**：记录数据访问和操作日志
**示例**：
- 记录所有数据访问
- 监控异常访问行为
- 生成审计报告

### 5. 数据备份
**用途**：定期备份重要数据
**示例**：
- 每日自动备份
- 增量备份策略
- 异地备份存储

### 6. 权限管理
**用途**：管理用户数据权限
**示例**：
- 角色权限分配
- 临时权限授予
- 权限审批流程

## 安全级别说明

### 高级别 🔴
- **适用**：核心数据、机密信息
- **控制**：最严格的访问控制
- **示例**：财务数据、个人隐私
- **措施**：
  - 多重认证
  - 数据加密
  - 完整审计
  - 定期审查

### 中级别 🟡
- **适用**：重要数据、内部信息
- **控制**：较严格的访问控制
- **示例**：业务数据、员工信息
- **措施**：
  - 身份认证
  - 访问授权
  - 日志记录
  - 定期检查

### 低级别 🟢
- **适用**：一般数据、公开信息
- **控制**：基本的访问控制
- **示例**：公告、新闻、统计数据
- **措施**：
  - 基本认证
  - 简单授权
  - 基础日志

## 最佳实践

### 1. 策略命名规范
- 使用清晰、描述性的名称
- 包含策略类型和目标
- 保持命名的一致性

### 2. 安全级别选择
- 根据数据敏感度选择
- 考虑合规要求
- 平衡安全性和可用性

### 3. 定期审查
- 定期检查策略有效性
- 及时更新过时策略
- 删除无用策略

### 4. 文档记录
- 详细记录策略目的
- 说明执行规则
- 记录变更历史

### 5. 测试验证
- 新策略先在测试环境验证
- 确认不影响业务
- 逐步推广到生产环境

## 数据持久化

所有策略数据会自动保存到浏览器的 localStorage 中：
- `data_security_policies`：安全策略数据
- `data_security_masking`：脱敏规则数据
- `data_security_access`：访问控制数据

刷新页面后数据不会丢失。

## 常见问题

### Q1: 如何快速创建策略？
A: 
1. 点击"新增策略"
2. 填写必填项（名称、类型、级别、描述）
3. 选填项可以后续补充
4. 点击创建即可

### Q2: 策略启用后多久生效？
A: 策略启用后立即生效，会应用到相关的数据访问。

### Q3: 如何临时禁用策略？
A: 点击策略的"切换状态"按钮，确认后即可禁用。需要时可以再次启用。

### Q4: 删除策略会有什么影响？
A: 删除策略后，相关的安全控制将失效。建议先禁用观察一段时间，确认无影响后再删除。

### Q5: 如何查看策略的应用情况？
A: 点击"查看详情"按钮，可以看到策略的应用次数、成功次数和失败次数统计。

## 技术支持

如有问题，请：
1. 查看浏览器控制台日志
2. 检查策略配置是否正确
3. 确认必填项是否完整
4. 联系系统管理员

---

**版本**: 1.0.0  
**更新时间**: 2024-10-25  
**功能状态**: ✅ 已完成
