# å›¾è°±åˆ†æè¯´æ˜åŠŸèƒ½

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

ä¸ºå›¾è°±åˆ†ææ¨¡å—æ·»åŠ äº†æ™ºèƒ½åˆ†æè¯´æ˜æ¿å—ï¼Œå¸®åŠ©ç”¨æˆ·ç†è§£å›¾è°±å†…å®¹ï¼ŒåŒ…æ‹¬ï¼š
1. å›¾è°±æ¦‚è§ˆ
2. é£é™©è¯†åˆ«
3. å…³é”®è·¯å¾„
4. å»ºè®®æªæ–½

## ğŸ¯ æ˜¾ç¤ºå†…å®¹

### 1. å›¾è°±æ¦‚è§ˆ

**æ˜¾ç¤ºä¿¡æ¯ï¼š**
- å½“å‰å›¾è°±ç±»å‹
- èŠ‚ç‚¹å’Œå…³ç³»æ•°é‡
- æ˜¾ç¤ºå±‚çº§
- å›¾è°±ç‰¹ç‚¹è¯´æ˜

**ç¤ºä¾‹ï¼š**
```
å½“å‰å±•ç¤ºé£é™©ä¼ å¯¼å›¾è°±ï¼Œå…±åŒ…å«9ä¸ªèŠ‚ç‚¹å’Œ9æ¡å…³ç³»ï¼Œæ˜¾ç¤ºå±‚çº§ä¸º3å±‚ã€‚
å›¾ä¸­çº¢è‰²èŠ‚ç‚¹è¡¨ç¤ºé«˜é£é™©å®ä½“ï¼Œæ©™è‰²è¡¨ç¤ºä¸­é£é™©ï¼Œè“è‰²è¡¨ç¤ºä½é£é™©ã€‚
```

### 2. é£é™©è¯†åˆ«

**åˆ†æå†…å®¹ï¼š**
- é«˜é£é™©èŠ‚ç‚¹æ•°é‡å’Œåç§°
- ä¸­é£é™©èŠ‚ç‚¹æ•°é‡
- é£é™©å…³ç³»æ•°é‡
- é£é™©è¯„ä¼°ç»“è®º

**ç¤ºä¾‹ï¼š**
```
å‘ç°3ä¸ªé«˜é£é™©èŠ‚ç‚¹ï¼ˆå¦‚ï¼šé«˜é£é™©é¢„è­¦#2025-001ã€å¼ ä¸‰ã€é‡‡è´­åˆåŒAï¼‰ï¼Œ
2ä¸ªä¸­é£é™©èŠ‚ç‚¹ï¼Œ2æ¡é£é™©å…³ç³»ã€‚å»ºè®®é‡ç‚¹å…³æ³¨é«˜é£é™©èŠ‚ç‚¹åŠå…¶å…³è”å…³ç³»ã€‚
```

### 3. å…³é”®è·¯å¾„

**æ ¹æ®å›¾è°±ç±»å‹æä¾›ä¸åŒåˆ†æï¼š**

#### é£é™©ä¼ å¯¼å›¾è°±
- é£é™©ä¼ å¯¼è·¯å¾„æ•°é‡
- é£é™©æ‰©æ•£åˆ†æ
- é˜»æ–­å»ºè®®

**ç¤ºä¾‹ï¼š**
```
è¯†åˆ«å‡º2æ¡é£é™©ä¼ å¯¼è·¯å¾„ï¼Œè¿™äº›è·¯å¾„å¯èƒ½å¯¼è‡´é£é™©æ‰©æ•£ã€‚
å»ºè®®åˆ‡æ–­å…³é”®é£é™©èŠ‚ç‚¹çš„å…³è”ï¼Œé˜»æ–­é£é™©ä¼ æ’­ã€‚
```

#### éƒ¨é—¨å…³ç³»å›¾è°±
- éƒ¨é—¨æ•°é‡
- åä½œå…³ç³»åˆ†æ
- åä½œå»ºè®®

**ç¤ºä¾‹ï¼š**
```
å›¾ä¸­åŒ…å«3ä¸ªéƒ¨é—¨èŠ‚ç‚¹ï¼Œé€šè¿‡åä½œå…³ç³»å½¢æˆéƒ¨é—¨ç½‘ç»œã€‚
å»ºè®®åŠ å¼ºè·¨éƒ¨é—¨åä½œï¼Œæå‡å·¥ä½œæ•ˆç‡ã€‚
```

#### æµç¨‹ç›‘æ§å›¾è°±
- æµç¨‹ç¯èŠ‚æ•°é‡
- æµè½¬å…³ç³»åˆ†æ
- ç›‘æ§å»ºè®®

**ç¤ºä¾‹ï¼š**
```
æµç¨‹åŒ…å«5ä¸ªç¯èŠ‚ï¼Œå„ç¯èŠ‚æŒ‰é¡ºåºæµè½¬ã€‚
å»ºè®®é‡ç‚¹ç›‘æ§é«˜é£é™©ç¯èŠ‚ï¼Œç¡®ä¿æµç¨‹åˆè§„ã€‚
```

#### äº‹ä»¶å…³è”å›¾è°±
- å…³è”å®ä½“æ•°é‡
- å…³ç³»ç½‘ç»œåˆ†æ
- é¢„é˜²å»ºè®®

**ç¤ºä¾‹ï¼š**
```
äº‹ä»¶å…³è”äº†4ä¸ªç›¸å…³å®ä½“ï¼Œå½¢æˆå®Œæ•´çš„äº‹ä»¶å…³ç³»ç½‘ç»œã€‚
å»ºè®®æ·±å…¥åˆ†æäº‹ä»¶æˆå› ï¼Œé˜²æ­¢ç±»ä¼¼äº‹ä»¶å†æ¬¡å‘ç”Ÿã€‚
```

### 4. å»ºè®®æªæ–½

**æ ¹æ®é£é™©ç­‰çº§æä¾›é’ˆå¯¹æ€§å»ºè®®ï¼š**

#### å­˜åœ¨é«˜é£é™©èŠ‚ç‚¹
```
å»ºè®®ï¼š
1) ç«‹å³æ ¸æŸ¥é«˜é£é™©èŠ‚ç‚¹ï¼Œè¯„ä¼°é£é™©ç¨‹åº¦
2) åŠ å¼ºå¯¹é£é™©å…³ç³»çš„ç›‘æ§
3) å»ºç«‹é£é™©é¢„è­¦æœºåˆ¶
4) å®šæœŸæ›´æ–°é£é™©è¯„ä¼°
```

#### ä»…å­˜åœ¨ä¸­é£é™©èŠ‚ç‚¹
```
å»ºè®®ï¼š
1) æŒç»­å…³æ³¨ä¸­é£é™©èŠ‚ç‚¹çš„å˜åŒ–
2) å®Œå–„é£é™©ç®¡ç†åˆ¶åº¦
3) åŠ å¼ºæ—¥å¸¸ç›‘ç£æ£€æŸ¥
```

#### æ— æ˜æ˜¾é£é™©
```
å»ºè®®ï¼š
1) ä¿æŒç°æœ‰ç®¡ç†æ°´å¹³
2) å»ºç«‹é•¿æ•ˆç›‘ç£æœºåˆ¶
3) å®šæœŸå¼€å±•é£é™©æ’æŸ¥
```

## ğŸ”„ æ›´æ–°æœºåˆ¶

### è§¦å‘æ—¶æœº
æ¯æ¬¡ç”Ÿæˆæˆ–æ›´æ–°å›¾è°±æ—¶ï¼Œè‡ªåŠ¨æ›´æ–°åˆ†æè¯´æ˜ï¼š
1. åˆ‡æ¢å›¾è°±ç±»å‹
2. è°ƒæ•´æ˜¾ç¤ºå±‚çº§
3. é€‰æ‹©ä¸­å¿ƒèŠ‚ç‚¹
4. ç‚¹å‡»"ç”Ÿæˆå›¾è°±"æŒ‰é’®

### æ›´æ–°æµç¨‹
```
updateKnowledgeGraph()
    â†“
ç”Ÿæˆå›¾è°±æ•°æ®
    â†“
æ¸²æŸ“å›¾è¡¨
    â†“
updateGraphStatistics()  // æ›´æ–°ç»Ÿè®¡æ•°æ®
    â†“
updateGraphAnalysisDescription()  // æ›´æ–°åˆ†æè¯´æ˜
```

## ğŸ“Š ç»Ÿè®¡æŒ‡æ ‡

### èŠ‚ç‚¹æ€»æ•°
å›¾è°±ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„æ•°é‡

### å…³ç³»æ€»æ•°
å›¾è°±ä¸­æ‰€æœ‰è¾¹çš„æ•°é‡

### é£é™©è·¯å¾„
æ ‡è®°ä¸ºé£é™©çš„å…³ç³»æ•°é‡ï¼ˆedge.risk === trueï¼‰

### å…³é”®èŠ‚ç‚¹
é«˜é£é™©èŠ‚ç‚¹çš„æ•°é‡ï¼ˆnode.risk === 'high'ï¼‰

## ğŸ¨ ç•Œé¢è®¾è®¡

### å¸ƒå±€ç»“æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å›¾è°±ç»Ÿè®¡                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚èŠ‚ç‚¹  â”‚å…³ç³»  â”‚é£é™©  â”‚å…³é”®  â”‚             â”‚
â”‚  â”‚æ€»æ•°  â”‚æ€»æ•°  â”‚è·¯å¾„  â”‚èŠ‚ç‚¹  â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š å›¾è°±åˆ†æè¯´æ˜                             â”‚
â”‚                                              â”‚
â”‚  ğŸ”· å›¾è°±æ¦‚è§ˆ                                 â”‚
â”‚  å½“å‰å±•ç¤ºé£é™©ä¼ å¯¼å›¾è°±...                     â”‚
â”‚                                              â”‚
â”‚  âš ï¸ é£é™©è¯†åˆ«                                 â”‚
â”‚  å‘ç°3ä¸ªé«˜é£é™©èŠ‚ç‚¹...                        â”‚
â”‚                                              â”‚
â”‚  ğŸ›£ï¸ å…³é”®è·¯å¾„                                 â”‚
â”‚  è¯†åˆ«å‡º2æ¡é£é™©ä¼ å¯¼è·¯å¾„...                    â”‚
â”‚                                              â”‚
â”‚  ğŸ’¡ å»ºè®®æªæ–½                                 â”‚
â”‚  å»ºè®®ï¼š1) ç«‹å³æ ¸æŸ¥...                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é¢œè‰²æ–¹æ¡ˆ
- **èƒŒæ™¯è‰²**ï¼šæµ…è“è‰² (#f0f9ff)
- **å›¾æ ‡é¢œè‰²**ï¼š
  - å›¾è°±æ¦‚è§ˆï¼šè“è‰² (#3b82f6)
  - é£é™©è¯†åˆ«ï¼šçº¢è‰² (#ef4444)
  - å…³é”®è·¯å¾„ï¼šç´«è‰² (#8b5cf6)
  - å»ºè®®æªæ–½ï¼šç»¿è‰² (#10b981)

## ğŸ’¡ æ™ºèƒ½åˆ†æé€»è¾‘

### 1. é£é™©ç­‰çº§åˆ¤æ–­
```javascript
if (highRiskNodes.length > 0) {
    // å­˜åœ¨é«˜é£é™©ï¼Œç»™å‡ºç´§æ€¥å»ºè®®
} else if (mediumRiskNodes.length > 0) {
    // å­˜åœ¨ä¸­é£é™©ï¼Œç»™å‡ºå…³æ³¨å»ºè®®
} else {
    // æ— æ˜æ˜¾é£é™©ï¼Œç»™å‡ºä¿æŒå»ºè®®
}
```

### 2. èŠ‚ç‚¹åç§°å±•ç¤º
```javascript
// æœ€å¤šæ˜¾ç¤º3ä¸ªèŠ‚ç‚¹åç§°
const nodeNames = highRiskNodes
    .slice(0, 3)
    .map(n => n.name)
    .join('ã€');

// è¶…è¿‡3ä¸ªæ—¶æ·»åŠ "ç­‰"
if (highRiskNodes.length > 3) {
    nodeNames += 'ç­‰';
}
```

### 3. å›¾è°±ç±»å‹é€‚é…
```javascript
switch(graphType) {
    case 'risk':
        // é£é™©ä¼ å¯¼åˆ†æ
        break;
    case 'department':
        // éƒ¨é—¨å…³ç³»åˆ†æ
        break;
    case 'process':
        // æµç¨‹ç›‘æ§åˆ†æ
        break;
    case 'event':
        // äº‹ä»¶å…³è”åˆ†æ
        break;
}
```

## ğŸ§ª æµ‹è¯•åœºæ™¯

### æµ‹è¯•åœºæ™¯ 1ï¼šé£é™©ä¼ å¯¼å›¾è°±
**æ“ä½œï¼š**
1. é€‰æ‹©"é£é™©ä¼ å¯¼å›¾è°±"
2. è®¾ç½®å±‚çº§ä¸º3å±‚
3. ç‚¹å‡»"ç”Ÿæˆå›¾è°±"

**é¢„æœŸè¯´æ˜ï¼š**
- å›¾è°±æ¦‚è§ˆï¼šæåˆ°é£é™©ä¼ å¯¼å›¾è°±ï¼ŒèŠ‚ç‚¹å’Œå…³ç³»æ•°é‡ï¼Œé¢œè‰²å«ä¹‰
- é£é™©è¯†åˆ«ï¼šåˆ—å‡ºé«˜é£é™©èŠ‚ç‚¹åç§°ï¼Œç»Ÿè®¡ä¸­é£é™©èŠ‚ç‚¹å’Œé£é™©å…³ç³»
- å…³é”®è·¯å¾„ï¼šåˆ†æé£é™©ä¼ å¯¼è·¯å¾„ï¼Œæå‡ºé˜»æ–­å»ºè®®
- å»ºè®®æªæ–½ï¼šæ ¹æ®é£é™©ç­‰çº§ç»™å‡ºå…·ä½“å»ºè®®

### æµ‹è¯•åœºæ™¯ 2ï¼šéƒ¨é—¨å…³ç³»å›¾è°±
**æ“ä½œï¼š**
1. é€‰æ‹©"éƒ¨é—¨å…³ç³»å›¾è°±"
2. è®¾ç½®å±‚çº§ä¸º2å±‚
3. ç‚¹å‡»"ç”Ÿæˆå›¾è°±"

**é¢„æœŸè¯´æ˜ï¼š**
- å›¾è°±æ¦‚è§ˆï¼šæåˆ°éƒ¨é—¨å…³ç³»å›¾è°±ï¼Œå±•ç¤ºåä½œå…³ç³»
- é£é™©è¯†åˆ«ï¼šåˆ†æéƒ¨é—¨ç›¸å…³é£é™©
- å…³é”®è·¯å¾„ï¼šåˆ†æéƒ¨é—¨åä½œç½‘ç»œ
- å»ºè®®æªæ–½ï¼šæå‡ºåä½œä¼˜åŒ–å»ºè®®

### æµ‹è¯•åœºæ™¯ 3ï¼šæµç¨‹ç›‘æ§å›¾è°±
**æ“ä½œï¼š**
1. é€‰æ‹©"æµç¨‹ç›‘æ§å›¾è°±"
2. è®¾ç½®å±‚çº§ä¸º5å±‚
3. ç‚¹å‡»"ç”Ÿæˆå›¾è°±"

**é¢„æœŸè¯´æ˜ï¼š**
- å›¾è°±æ¦‚è§ˆï¼šæåˆ°æµç¨‹ç›‘æ§å›¾è°±ï¼Œæ˜¾ç¤ºå…¨éƒ¨å±‚çº§
- é£é™©è¯†åˆ«ï¼šè¯†åˆ«é«˜é£é™©æµç¨‹ç¯èŠ‚
- å…³é”®è·¯å¾„ï¼šåˆ†ææµç¨‹æµè½¬å…³ç³»
- å»ºè®®æªæ–½ï¼šæå‡ºæµç¨‹ç›‘æ§å»ºè®®

### æµ‹è¯•åœºæ™¯ 4ï¼šå±‚çº§å˜åŒ–
**æ“ä½œï¼š**
1. é€‰æ‹©"é£é™©ä¼ å¯¼å›¾è°±"ï¼Œå±‚çº§1å±‚
2. è°ƒæ•´åˆ°3å±‚
3. è°ƒæ•´åˆ°5å±‚

**é¢„æœŸï¼š**
- æ¯æ¬¡è°ƒæ•´åè¯´æ˜è‡ªåŠ¨æ›´æ–°
- èŠ‚ç‚¹å’Œå…³ç³»æ•°é‡éšå±‚çº§å˜åŒ–
- é£é™©åˆ†æåŸºäºå½“å‰æ˜¾ç¤ºçš„æ•°æ®

## ğŸ”§ æŠ€æœ¯å®ç°

### å…³é”®å‡½æ•°

#### updateGraphStatistics(graphData, graphType)
æ›´æ–°å›¾è°±ç»Ÿè®¡æ•°å­—

```javascript
function updateGraphStatistics(graphData, graphType) {
    const nodeCount = graphData.nodes.length;
    const edgeCount = graphData.edges.length;
    const riskPathCount = graphData.edges.filter(e => e.risk).length;
    const keyNodeCount = graphData.nodes.filter(n => n.risk === 'high').length;
    
    // æ›´æ–°DOM
    document.getElementById('graph-node-count').textContent = nodeCount;
    document.getElementById('graph-edge-count').textContent = edgeCount;
    document.getElementById('graph-risk-path').textContent = riskPathCount;
    document.getElementById('graph-key-node').textContent = keyNodeCount;
}
```

#### updateGraphAnalysisDescription(graphData, graphType, depth)
ç”Ÿæˆæ™ºèƒ½åˆ†æè¯´æ˜

```javascript
function updateGraphAnalysisDescription(graphData, graphType, depth) {
    // 1. åˆ†ææ•°æ®
    const highRiskNodes = graphData.nodes.filter(n => n.risk === 'high');
    const mediumRiskNodes = graphData.nodes.filter(n => n.risk === 'medium');
    const riskEdges = graphData.edges.filter(e => e.risk);
    
    // 2. ç”Ÿæˆè¯´æ˜æ–‡æœ¬
    const overviewText = generateOverviewText(...);
    const riskText = generateRiskText(...);
    const pathText = generatePathText(...);
    const suggestionText = generateSuggestionText(...);
    
    // 3. æ›´æ–°DOM
    document.getElementById('graph-overview-text').textContent = overviewText;
    document.getElementById('graph-risk-text').textContent = riskText;
    document.getElementById('graph-path-text').textContent = pathText;
    document.getElementById('graph-suggestion-text').textContent = suggestionText;
}
```

## ğŸš€ åç»­ä¼˜åŒ–å»ºè®®

### 1. é£é™©è¯„åˆ†
ä¸ºæ¯ä¸ªå›¾è°±è®¡ç®—ç»¼åˆé£é™©è¯„åˆ†ï¼š
```javascript
function calculateRiskScore(graphData) {
    const highRiskWeight = 10;
    const mediumRiskWeight = 5;
    const lowRiskWeight = 1;
    
    const score = 
        highRiskNodes.length * highRiskWeight +
        mediumRiskNodes.length * mediumRiskWeight +
        lowRiskNodes.length * lowRiskWeight;
    
    return score;
}
```

### 2. è¶‹åŠ¿åˆ†æ
å¯¹æ¯”å†å²æ•°æ®ï¼Œåˆ†æé£é™©å˜åŒ–è¶‹åŠ¿ï¼š
```javascript
function analyzeTrend(currentData, historicalData) {
    const currentRisk = calculateRiskScore(currentData);
    const previousRisk = calculateRiskScore(historicalData);
    
    if (currentRisk > previousRisk) {
        return 'é£é™©å‘ˆä¸Šå‡è¶‹åŠ¿';
    } else if (currentRisk < previousRisk) {
        return 'é£é™©å‘ˆä¸‹é™è¶‹åŠ¿';
    } else {
        return 'é£é™©ä¿æŒç¨³å®š';
    }
}
```

### 3. è¯¦ç»†æŠ¥å‘Š
æ”¯æŒå¯¼å‡ºè¯¦ç»†çš„åˆ†ææŠ¥å‘Šï¼š
```javascript
function generateDetailedReport(graphData, graphType) {
    return {
        summary: '...',
        riskAnalysis: '...',
        pathAnalysis: '...',
        recommendations: '...',
        charts: [...],
        timestamp: new Date()
    };
}
```

### 4. æ™ºèƒ½å»ºè®®
åŸºäºæœºå™¨å­¦ä¹ æä¾›æ›´æ™ºèƒ½çš„å»ºè®®ï¼š
```javascript
async function getAIRecommendations(graphData) {
    const response = await fetch('/api/ai/analyze', {
        method: 'POST',
        body: JSON.stringify(graphData)
    });
    return await response.json();
}
```

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **æ•°æ®å‡†ç¡®æ€§**ï¼šç¡®ä¿èŠ‚ç‚¹çš„riskå±æ€§æ­£ç¡®è®¾ç½®
2. **æ–‡æœ¬é•¿åº¦**ï¼šè¯´æ˜æ–‡æœ¬ä¸å®œè¿‡é•¿ï¼Œä¿æŒç®€æ´æ˜äº†
3. **å®æ—¶æ›´æ–°**ï¼šæ¯æ¬¡å›¾è°±å˜åŒ–éƒ½è¦æ›´æ–°è¯´æ˜
4. **ç”¨æˆ·å‹å¥½**ï¼šä½¿ç”¨é€šä¿—æ˜“æ‡‚çš„è¯­è¨€ï¼Œé¿å…ä¸“ä¸šæœ¯è¯­
5. **è§†è§‰å±‚æ¬¡**ï¼šä½¿ç”¨å›¾æ ‡å’Œé¢œè‰²åŒºåˆ†ä¸åŒç±»å‹çš„è¯´æ˜

---

**å®ç°æ—¶é—´**ï¼š2025-10-28  
**ç‰ˆæœ¬**ï¼šv1.0  
**çŠ¶æ€**ï¼šâœ… å·²å®Œæˆ
