# 清除浏览器缓存指南

## 问题描述
更新了JavaScript或CSS文件后，浏览器可能仍然使用旧版本的缓存文件，导致新功能无法显示。

## 解决方案

### 方法1：强制刷新（推荐）
在浏览器中打开页面后，使用以下快捷键强制刷新：

- **Windows/Linux**: `Ctrl + Shift + R` 或 `Ctrl + F5`
- **Mac**: `Cmd + Shift + R`

### 方法2：清除浏览器缓存

#### Chrome浏览器
1. 按 `Ctrl + Shift + Delete` (Mac: `Cmd + Shift + Delete`)
2. 选择"缓存的图片和文件"
3. 时间范围选择"全部时间"
4. 点击"清除数据"

#### Firefox浏览器
1. 按 `Ctrl + Shift + Delete` (Mac: `Cmd + Shift + Delete`)
2. 选择"缓存"
3. 点击"立即清除"

#### Safari浏览器
1. 按 `Cmd + Option + E`
2. 或者在菜单栏选择"开发" > "清空缓存"

### 方法3：使用无痕/隐私模式
在无痕模式下打开页面，这样不会使用缓存：

- **Chrome**: `Ctrl + Shift + N` (Mac: `Cmd + Shift + N`)
- **Firefox**: `Ctrl + Shift + P` (Mac: `Cmd + Shift + P`)
- **Safari**: `Cmd + Shift + N`

### 方法4：禁用缓存（开发者模式）

#### Chrome DevTools
1. 按 `F12` 打开开发者工具
2. 按 `F1` 打开设置
3. 勾选"Disable cache (while DevTools is open)"
4. 保持开发者工具打开状态刷新页面

#### Firefox DevTools
1. 按 `F12` 打开开发者工具
2. 点击右上角的设置图标
3. 勾选"禁用HTTP缓存（当工具箱打开时）"

## 已更新的文件

以下文件已添加版本参数以强制刷新：

- `my-tasks.html` - 已更新JS和CSS引用为 `?v=2.0`
- `js/my-tasks.js` - 包含完整的待办详情功能
- `css/my-tasks.css` - 包含新增的样式

## 测试页面

可以使用 `test-my-tasks.html` 页面来测试功能：

1. 在浏览器中打开 `test-my-tasks.html`
2. 查看数据检查部分，确认所有任务都有完整数据
3. 点击测试按钮，查看待办详情是否显示完整信息

## 验证功能是否正常

打开待办详情后，应该能看到以下内容：

✓ 基本信息（标题、描述、注意事项）
✓ 来源追溯（预警/线索/工单/整改）
✓ 任务详情（单位、人员、金额、风险等级）
✓ 证据材料列表
✓ 附件列表
✓ 需要的操作（复选框列表）
✓ 操作记录（时间轴）

如果看不到这些内容，请使用上述方法清除缓存后重试。

## 开发者注意事项

在开发过程中，建议：

1. 始终保持开发者工具打开并禁用缓存
2. 每次更新JS/CSS文件后，修改版本号（如 `?v=2.1`）
3. 使用无痕模式测试新功能
4. 在不同浏览器中测试兼容性

## 常见问题

**Q: 为什么我看到的还是旧版本？**
A: 浏览器缓存了旧文件。请使用强制刷新（Ctrl+Shift+R）。

**Q: 清除缓存后还是不行？**
A: 检查浏览器控制台是否有JavaScript错误。按F12打开控制台查看。

**Q: 如何确认使用的是新版本？**
A: 在控制台输入 `mockTasks[0].source` 查看是否有数据。如果返回对象则是新版本。

**Q: 测试页面也不行？**
A: 确保所有文件都已保存，并且没有语法错误。使用 `getDiagnostics` 工具检查。
