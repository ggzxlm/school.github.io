<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Êï∞ÊçÆÊ∫êÁÆ°ÁêÜ - È´òÊ†°Á∫™Ê£ÄÂÆ°ËÆ°ÁõëÁÆ°‰∏Ä‰ΩìÂåñÂπ≥Âè∞</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üóÑÔ∏è</text></svg>">
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/datasource-management.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <!-- È°∂ÈÉ®ÂØºËà™Ê†è -->
        <header id="top-navbar"></header>

        <div class="main-wrapper">
            <!-- ‰æßËæπÂØºËà™Ê†è -->
            <aside id="side-navbar"></aside>

            <!-- ‰∏ªÂÜÖÂÆπÂå∫ -->
            <main class="content-area">
                <!-- È°µÈù¢Ê†áÈ¢ò -->
                <div class="page-header-section">
                    <h1 class="page-title">Êï∞ÊçÆÊ∫êÁÆ°ÁêÜ</h1>
                    <p class="page-description">ÁÆ°ÁêÜÂêÑÁ±ªÊï∞ÊçÆÊ∫êËøûÊé•ÔºåÁõëÊéßÊï∞ÊçÆÊ∫êÁä∂ÊÄÅ</p>
                </div>

                <!-- Êï∞ÊçÆÊ∫êÁä∂ÊÄÅÁªüËÆ°Âç°Áâá -->
                <div class="stats-grid">
                    <div class="stat-card stat-card-primary">
                        <div class="stat-icon">
                            <i class="fas fa-database"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-label">ÂÖ®ÈÉ®Êï∞ÊçÆÊ∫ê</div>
                            <div class="stat-value" id="totalDatasources">0</div>
                        </div>
                    </div>

                    <div class="stat-card stat-card-success">
                        <div class="stat-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-label">ËøêË°å‰∏≠</div>
                            <div class="stat-value" id="activeDatasources">0</div>
                        </div>
                    </div>

                    <div class="stat-card stat-card-danger">
                        <div class="stat-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-label">ÂºÇÂ∏∏</div>
                            <div class="stat-value" id="errorDatasources">0</div>
                        </div>
                    </div>

                    <div class="stat-card stat-card-warning">
                        <div class="stat-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-label">Êú™ÊøÄÊ¥ª</div>
                            <div class="stat-value" id="inactiveDatasources">0</div>
                        </div>
                    </div>
                </div>

                <!-- ÊêúÁ¥¢„ÄÅÁ≠õÈÄâÂíåÊñ∞Âª∫Êï∞ÊçÆÊ∫êÂå∫Âüü -->
                <div class="filter-section">
                    <div class="filter-row">
                        <div class="filter-left">
                            <!-- ÊêúÁ¥¢Ê°Ü -->
                            <div class="search-box">
                                <input type="text" id="searchInput" placeholder="ÊêúÁ¥¢Êï∞ÊçÆÊ∫êÂêçÁß∞„ÄÅÁ±ªÂûã...">
                                <i class="fas fa-search"></i>
                            </div>

                            <!-- Á≠õÈÄâÂô® -->
                            <select id="typeFilter" class="filter-select">
                                <option value="">ÂÖ®ÈÉ®Á±ªÂûã</option>
                                <option value="MySQL">MySQL</option>
                                <option value="Oracle">Oracle</option>
                                <option value="SQL Server">SQL Server</option>
                                <option value="PostgreSQL">PostgreSQL</option>
                                <option value="API">APIÊé•Âè£</option>
                                <option value="Êñá‰ª∂">Êñá‰ª∂</option>
                            </select>

                            <select id="statusFilter" class="filter-select">
                                <option value="">ÂÖ®ÈÉ®Áä∂ÊÄÅ</option>
                                <option value="ËøêË°å‰∏≠">ËøêË°å‰∏≠</option>
                                <option value="ÂºÇÂ∏∏">ÂºÇÂ∏∏</option>
                                <option value="Êú™ÊøÄÊ¥ª">Êú™ÊøÄÊ¥ª</option>
                            </select>

                            <button id="resetBtn" class="btn btn-secondary">
                                <i class="fas fa-redo"></i> ÈáçÁΩÆ
                            </button>
                        </div>

                        <!-- Êñ∞Âª∫Êï∞ÊçÆÊ∫êÊåâÈíÆ -->
                        <button id="createDatasourceBtn" class="btn btn-primary">
                            <i class="fas fa-plus"></i> Êñ∞Âª∫Êï∞ÊçÆÊ∫ê
                        </button>
                    </div>
                </div>

                <!-- Êï∞ÊçÆÊ∫êÂàóË°®Ë°®Ê†º -->
                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th class="sortable" data-sort="name">
                                    Êï∞ÊçÆÊ∫êÂêçÁß∞ <i class="fas fa-sort"></i>
                                </th>
                                <th>Á±ªÂûã</th>
                                <th>ËøûÊé•‰ø°ÊÅØ</th>
                                <th>Áä∂ÊÄÅ</th>
                                <th class="sortable" data-sort="lastSync">
                                    ÊúÄÂêéÂêåÊ≠•Êó∂Èó¥ <i class="fas fa-sort"></i>
                                </th>
                                <th>Êï∞ÊçÆÈáè</th>
                                <th>Êìç‰Ωú</th>
                            </tr>
                        </thead>
                        <tbody id="datasourceTableBody">
                            <!-- Êï∞ÊçÆÊ∫êÂàóË°®Â∞ÜÈÄöËøá JavaScript Âä®ÊÄÅÁîüÊàê -->
                        </tbody>
                    </table>

                    <!-- ÂàÜÈ°µÂô® -->
                    <div class="pagination-info">
                        <div>
                            ÊòæÁ§∫ <span id="pageStart">0</span> Âà∞ <span id="pageEnd">0</span> Êù°ÔºåÂÖ± <span id="totalCount">0</span> Êù°
                        </div>
                        <div class="pagination-controls">
                            <button id="prevPage">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <div id="pageNumbers" class="page-numbers">
                                <!-- È°µÁ†ÅÊåâÈíÆÂ∞ÜÈÄöËøá JavaScript Âä®ÊÄÅÁîüÊàê -->
                            </div>
                            <button id="nextPage">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- È°µËÑö -->
        <footer id="footer"></footer>
    </div>

    <!-- Êï∞ÊçÆÊ∫êËØ¶ÊÉÖÊ®°ÊÄÅÊ°Ü -->
    <div id="datasourceDetailModal" class="modal-overlay">
        <div class="modal-container modal-xl">
            <div class="modal-header">
                <h2 class="modal-title">
                    <i class="fas fa-database"></i>
                    Êï∞ÊçÆÊ∫êËØ¶ÊÉÖ
                </h2>
                <button id="closeDetailModalBtn" class="modal-close-btn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="modal-body">
                <!-- Âü∫Êú¨‰ø°ÊÅØ -->
                <div class="detail-section">
                    <h3 class="detail-section-title">Âü∫Êú¨‰ø°ÊÅØ</h3>
                    <div class="detail-grid">
                        <div class="detail-item">
                            <label>Êï∞ÊçÆÊ∫êÂêçÁß∞</label>
                            <div id="detailName">-</div>
                        </div>
                        <div class="detail-item">
                            <label>Á±ªÂûã</label>
                            <div id="detailType">-</div>
                        </div>
                        <div class="detail-item">
                            <label>Áä∂ÊÄÅ</label>
                            <div id="detailStatus">-</div>
                        </div>
                        <div class="detail-item">
                            <label>ÂàõÂª∫Êó∂Èó¥</label>
                            <div id="detailCreateTime">-</div>
                        </div>
                        <div class="detail-item full-width">
                            <label>ËøûÊé•‰ø°ÊÅØ</label>
                            <div id="detailConnection">-</div>
                        </div>
                        <div class="detail-item full-width">
                            <label>ÊèèËø∞</label>
                            <div id="detailDescription">-</div>
                        </div>
                    </div>
                </div>

                <!-- ÂêåÊ≠•ÁªüËÆ° -->
                <div class="detail-section">
                    <h3 class="detail-section-title">ÂêåÊ≠•ÁªüËÆ°</h3>
                    <div class="detail-grid">
                        <div class="detail-item">
                            <label>ÊúÄÂêéÂêåÊ≠•Êó∂Èó¥</label>
                            <div id="detailLastSync">-</div>
                        </div>
                        <div class="detail-item">
                            <label>ÂêåÊ≠•È¢ëÁéá</label>
                            <div id="detailSyncFreq">-</div>
                        </div>
                        <div class="detail-item">
                            <label>Êï∞ÊçÆÈáè</label>
                            <div id="detailDataCount">-</div>
                        </div>
                        <div class="detail-item">
                            <label>ÂêåÊ≠•ÊàêÂäüÁéá</label>
                            <div id="detailSuccessRate">-</div>
                        </div>
                    </div>
                </div>

                <!-- ÂêåÊ≠•ÂéÜÂè≤ -->
                <div class="detail-section">
                    <h3 class="detail-section-title">ÂêåÊ≠•ÂéÜÂè≤</h3>
                    <div id="syncHistory" class="sync-history-list">
                        <!-- ÂêåÊ≠•ÂéÜÂè≤Â∞ÜÈÄöËøá JavaScript Âä®ÊÄÅÁîüÊàê -->
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button id="closeDetailBtn" class="btn btn-secondary">ÂÖ≥Èó≠</button>
                <button id="testConnectionBtn" class="btn btn-info">
                    <i class="fas fa-plug"></i> ÊµãËØïËøûÊé•
                </button>
                <button id="syncNowBtn" class="btn btn-success">
                    <i class="fas fa-sync"></i> Á´ãÂç≥ÂêåÊ≠•
                </button>
                <button id="editDatasourceBtn" class="btn btn-primary">
                    <i class="fas fa-edit"></i> ÁºñËæë
                </button>
            </div>
        </div>
    </div>

    <!-- Êñ∞Âª∫/ÁºñËæëÊï∞ÊçÆÊ∫êÊ®°ÊÄÅÊ°Ü -->
    <div id="createDatasourceModal" class="modal-overlay">
        <div class="modal-container modal-lg">
            <div class="modal-header">
                <h2 class="modal-title">
                    <i class="fas fa-plus-circle"></i>Êñ∞Âª∫Êï∞ÊçÆÊ∫ê
                </h2>
                <button id="closeCreateModalBtn" class="modal-close-btn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="modal-body">
                <form id="createDatasourceForm">
                    <input type="hidden" id="datasourceId">
                    
                    <div class="form-group">
                        <label class="form-label required">Êï∞ÊçÆÊ∫êÂêçÁß∞</label>
                        <input type="text" id="datasourceName" required class="form-control" placeholder="ËØ∑ËæìÂÖ•Êï∞ÊçÆÊ∫êÂêçÁß∞">
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label required">Êï∞ÊçÆÊ∫êÁ±ªÂûã</label>
                            <select id="datasourceType" required class="form-control">
                                <option value="">ËØ∑ÈÄâÊã©</option>
                                <option value="MySQL">MySQL</option>
                                <option value="Oracle">Oracle</option>
                                <option value="SQL Server">SQL Server</option>
                                <option value="PostgreSQL">PostgreSQL</option>
                                <option value="API">APIÊé•Âè£</option>
                                <option value="Êñá‰ª∂">Êñá‰ª∂</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label required">ÂêåÊ≠•È¢ëÁéá</label>
                            <select id="syncFrequency" required class="form-control">
                                <option value="">ËØ∑ÈÄâÊã©</option>
                                <option value="ÂÆûÊó∂">ÂÆûÊó∂</option>
                                <option value="ÊØèÂ∞èÊó∂">ÊØèÂ∞èÊó∂</option>
                                <option value="ÊØèÂ§©">ÊØèÂ§©</option>
                                <option value="ÊØèÂë®">ÊØèÂë®</option>
                                <option value="ÊâãÂä®">ÊâãÂä®</option>
                            </select>
                        </div>
                    </div>

                    <!-- Êï∞ÊçÆÂ∫ìÈÖçÁΩÆ -->
                    <div id="databaseConfig" style="display: none;">
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label required">‰∏ªÊú∫Âú∞ÂùÄ</label>
                                <input type="text" id="dbHost" class="form-control" placeholder="localhost">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label required">Á´ØÂè£</label>
                                <input type="number" id="dbPort" class="form-control" placeholder="3306">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label required">Êï∞ÊçÆÂ∫ìÂêç</label>
                            <input type="text" id="dbName" class="form-control" placeholder="database_name">
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label required">Áî®Êà∑Âêç</label>
                                <input type="text" id="dbUsername" class="form-control" placeholder="username">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label required">ÂØÜÁ†Å</label>
                                <input type="password" id="dbPassword" class="form-control" placeholder="password">
                            </div>
                        </div>
                    </div>

                    <!-- APIÈÖçÁΩÆ -->
                    <div id="apiConfig" style="display: none;">
                        <div class="form-group">
                            <label class="form-label required">APIÂú∞ÂùÄ</label>
                            <input type="url" id="apiUrl" class="form-control" placeholder="https://api.example.com">
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">APIÂØÜÈí•</label>
                                <input type="text" id="apiKey" class="form-control" placeholder="ËØ∑ËæìÂÖ•APIÂØÜÈí•">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">ËØ∑Ê±ÇÊñπÊ≥ï</label>
                                <select id="apiMethod" class="form-control">
                                    <option value="GET">GET</option>
                                    <option value="POST">POST</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Êñá‰ª∂ÈÖçÁΩÆ -->
                    <div id="fileConfig" style="display: none;">
                        <div class="form-group">
                            <label class="form-label required">Êñá‰ª∂Ë∑ØÂæÑ</label>
                            <input type="text" id="filePath" class="form-control" placeholder="/path/to/file or ftp://server/path">
                            <small class="form-text">ÊîØÊåÅÊú¨Âú∞Ë∑ØÂæÑ„ÄÅFTP„ÄÅSFTPÁ≠â</small>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Êñá‰ª∂Ê†ºÂºè</label>
                                <select id="fileFormat" class="form-control">
                                    <option value="CSV">CSV</option>
                                    <option value="Excel">Excel</option>
                                    <option value="JSON">JSON</option>
                                    <option value="XML">XML</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">ÁºñÁ†ÅÊ†ºÂºè</label>
                                <select id="fileEncoding" class="form-control">
                                    <option value="UTF-8">UTF-8</option>
                                    <option value="GBK">GBK</option>
                                    <option value="GB2312">GB2312</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">ÊèèËø∞</label>
                        <textarea id="datasourceDescription" rows="3" class="form-control" placeholder="ËØ∑ËæìÂÖ•Êï∞ÊçÆÊ∫êÊèèËø∞"></textarea>
                    </div>
                </form>
            </div>
            
            <div class="modal-footer">
                <button id="cancelCreateBtn" class="btn btn-secondary">ÂèñÊ∂à</button>
                <button id="testConnBtn" class="btn btn-info">
                    <i class="fas fa-plug"></i> ÊµãËØïËøûÊé•
                </button>
                <button id="submitCreateBtn" class="btn btn-primary">
                    <i class="fas fa-check"></i> ‰øùÂ≠ò
                </button>
            </div>
        </div>
    </div>

    <script src="js/common.js?v=2"></script>
    <script src="js/components.js?v=2"></script>
    <script src="js/datasource-management.js?v=2"></script>
</body>
</html>
