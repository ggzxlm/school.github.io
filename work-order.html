<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Â∑•ÂçïÁÆ°ÁêÜ - È´òÊ†°Á∫™Ê£ÄÂÆ°ËÆ°ÁõëÁÆ°‰∏Ä‰ΩìÂåñÂπ≥Âè∞</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìã</text></svg>">
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/work-order.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <!-- È°∂ÈÉ®ÂØºËà™Ê†è -->
        <header id="top-navbar"></header>

        <div class="main-wrapper">
            <!-- ‰æßËæπÂØºËà™Ê†è -->
            <aside id="side-navbar"></aside>

            <!-- ‰∏ªÂÜÖÂÆπÂå∫ -->
            <main class="content-area">
                <!-- È°µÈù¢Ê†áÈ¢ò -->
                <div class="page-header-section">
                    <h1 class="page-title">Â∑•ÂçïÁÆ°ÁêÜ</h1>
                    <p class="page-description">ÂçèÂêåÊ†∏Êü•‰ªªÂä°ÁÆ°ÁêÜ‰∏éË∑üË∏™</p>
                </div>

                <!-- Â∑•ÂçïÁä∂ÊÄÅÁªüËÆ°Âç°Áâá -->
                <div class="stats-grid">
                    <div class="stat-card stat-card-primary">
                        <div class="stat-icon">
                            <i class="fas fa-clipboard-list"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-label">ÂÖ®ÈÉ®Â∑•Âçï</div>
                            <div class="stat-value" id="totalOrders">0</div>
                        </div>
                    </div>

                    <div class="stat-card stat-card-warning">
                        <div class="stat-icon">
                            <i class="fas fa-spinner"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-label">ËøõË°å‰∏≠</div>
                            <div class="stat-value" id="inProgressOrders">0</div>
                        </div>
                    </div>

                    <div class="stat-card stat-card-success">
                        <div class="stat-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-label">Â∑≤ÂÆåÊàê</div>
                            <div class="stat-value" id="completedOrders">0</div>
                        </div>
                    </div>

                    <div class="stat-card stat-card-danger">
                        <div class="stat-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-label">Ë∂ÖÊúüÂ∑•Âçï</div>
                            <div class="stat-value" id="overdueOrders">0</div>
                        </div>
                    </div>
                </div>

                <!-- ÊêúÁ¥¢„ÄÅÁ≠õÈÄâÂíåÊñ∞Âª∫Â∑•ÂçïÂå∫Âüü -->
                <div class="filter-section">
                    <div class="filter-row">
                        <div class="filter-left">
                            <!-- ÊêúÁ¥¢Ê°Ü -->
                            <div class="search-box">
                                <input type="text" id="searchInput" placeholder="ÊêúÁ¥¢Â∑•ÂçïÂè∑„ÄÅÊ†áÈ¢ò...">
                                <i class="fas fa-search"></i>
                            </div>

                            <!-- Á≠õÈÄâÂô® -->
                            <select id="typeFilter" class="filter-select">
                                <option value="">ÂÖ®ÈÉ®Á±ªÂûã</option>
                                <option value="Á∫™Ê£ÄÊ†∏Êü•">Á∫™Ê£ÄÊ†∏Êü•</option>
                                <option value="ÂÆ°ËÆ°Ê†∏Êü•">ÂÆ°ËÆ°Ê†∏Êü•</option>
                                <option value="ËÅîÂêàÊ†∏Êü•">ËÅîÂêàÊ†∏Êü•</option>
                                <option value="‰∏ìÈ°πÊ†∏Êü•">‰∏ìÈ°πÊ†∏Êü•</option>
                            </select>

                            <select id="priorityFilter" class="filter-select">
                                <option value="">ÂÖ®ÈÉ®‰ºòÂÖàÁ∫ß</option>
                                <option value="È´ò">È´ò</option>
                                <option value="‰∏≠">‰∏≠</option>
                                <option value="‰Ωé">‰Ωé</option>
                            </select>

                            <select id="statusFilter" class="filter-select">
                                <option value="">ÂÖ®ÈÉ®Áä∂ÊÄÅ</option>
                                <option value="ÂæÖÂàÜÈÖç">ÂæÖÂàÜÈÖç</option>
                                <option value="ËøõË°å‰∏≠">ËøõË°å‰∏≠</option>
                                <option value="ÂæÖÂÆ°Ê†∏">ÂæÖÂÆ°Ê†∏</option>
                                <option value="Â∑≤ÂÆåÊàê">Â∑≤ÂÆåÊàê</option>
                                <option value="Â∑≤ÂÖ≥Èó≠">Â∑≤ÂÖ≥Èó≠</option>
                            </select>

                            <button id="resetBtn" class="btn btn-secondary">
                                <i class="fas fa-redo"></i> ÈáçÁΩÆ
                            </button>
                        </div>

                        <!-- Êñ∞Âª∫Â∑•ÂçïÊåâÈíÆ -->
                        <button id="createOrderBtn" class="btn btn-primary">
                            <i class="fas fa-plus"></i> Êñ∞Âª∫Â∑•Âçï
                        </button>
                    </div>
                </div>

                <!-- Â∑•ÂçïÂàóË°®Ë°®Ê†º -->
                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th class="sortable" data-sort="orderNo">
                                    Â∑•ÂçïÂè∑ <i class="fas fa-sort"></i>
                                </th>
                                <th>Ê†áÈ¢ò</th>
                                <th>Á±ªÂûã</th>
                                <th class="sortable" data-sort="priority">
                                    ‰ºòÂÖàÁ∫ß <i class="fas fa-sort"></i>
                                </th>
                                <th>Ë¥üË¥£‰∫∫</th>
                                <th>Áä∂ÊÄÅ</th>
                                <th class="sortable" data-sort="createTime">
                                    ÂàõÂª∫Êó∂Èó¥ <i class="fas fa-sort"></i>
                                </th>
                                <th>Êìç‰Ωú</th>
                            </tr>
                        </thead>
                        <tbody id="orderTableBody">
                            <!-- Â∑•ÂçïÂàóË°®Â∞ÜÈÄöËøá JavaScript Âä®ÊÄÅÁîüÊàê -->
                        </tbody>
                    </table>

                    <!-- ÂàÜÈ°µÂô® -->
                    <div class="pagination-info">
                        <div>
                            ÊòæÁ§∫ <span id="pageStart">0</span> Âà∞ <span id="pageEnd">0</span> Êù°ÔºåÂÖ± <span id="totalCount">0</span> Êù°
                        </div>
                        <div class="pagination-controls">
                            <button id="prevPage">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <div id="pageNumbers" class="page-numbers">
                                <!-- È°µÁ†ÅÊåâÈíÆÂ∞ÜÈÄöËøá JavaScript Âä®ÊÄÅÁîüÊàê -->
                            </div>
                            <button id="nextPage">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- È°µËÑö -->
        <footer id="footer"></footer>
    </div>

    <!-- Â∑•ÂçïËØ¶ÊÉÖÊ®°ÊÄÅÊ°Ü -->
    <div id="orderDetailModal" class="modal-overlay">
        <div class="modal-container modal-xl">
            <div class="modal-header">
                <h2 class="modal-title">
                    <i class="fas fa-clipboard-list"></i>
                    Â∑•ÂçïËØ¶ÊÉÖ
                </h2>
                <button id="closeModalBtn" class="modal-close-btn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="modal-body">
                <!-- Âü∫Êú¨‰ø°ÊÅØ -->
                <div class="detail-section">
                    <h3 class="detail-section-title">Âü∫Êú¨‰ø°ÊÅØ</h3>
                    <div class="detail-grid">
                        <div class="detail-item">
                            <label>Â∑•ÂçïÂè∑</label>
                            <div id="detailOrderNo">-</div>
                        </div>
                        <div class="detail-item">
                            <label>Áä∂ÊÄÅ</label>
                            <div id="detailStatus">-</div>
                        </div>
                        <div class="detail-item full-width">
                            <label>Ê†áÈ¢ò</label>
                            <div id="detailTitle">-</div>
                        </div>
                        <div class="detail-item">
                            <label>Á±ªÂûã</label>
                            <div id="detailType">-</div>
                        </div>
                        <div class="detail-item">
                            <label>‰ºòÂÖàÁ∫ß</label>
                            <div id="detailPriority">-</div>
                        </div>
                        <div class="detail-item">
                            <label>ÂàõÂª∫‰∫∫</label>
                            <div id="detailCreator">-</div>
                        </div>
                        <div class="detail-item">
                            <label>ÂàõÂª∫Êó∂Èó¥</label>
                            <div id="detailCreateTime">-</div>
                        </div>
                        <div class="detail-item full-width">
                            <label>ÊèèËø∞</label>
                            <div id="detailDescription">-</div>
                        </div>
                    </div>
                </div>

                <!-- Ê†∏Êü•ÁªÑÊàêÂëò -->
                <div class="detail-section">
                    <h3 class="detail-section-title">Ê†∏Êü•ÁªÑÊàêÂëò</h3>
                    <div id="teamMembers" class="team-members-list">
                        <!-- ÊàêÂëòÂàóË°®Â∞ÜÈÄöËøá JavaScript Âä®ÊÄÅÁîüÊàê -->
                    </div>
                </div>

                <!-- ‰ªªÂä°ÂàÜËß£ -->
                <div class="detail-section">
                    <h3 class="detail-section-title">‰ªªÂä°ÂàÜËß£</h3>
                    <div id="taskList" class="task-list">
                        <!-- ‰ªªÂä°ÂàóË°®Â∞ÜÈÄöËøá JavaScript Âä®ÊÄÅÁîüÊàê -->
                    </div>
                </div>

                <!-- ËÆ®ËÆ∫ËÆ∞ÂΩï -->
                <div class="detail-section">
                    <h3 class="detail-section-title">ËÆ®ËÆ∫ËÆ∞ÂΩï</h3>
                    <div id="discussionList" class="discussion-list">
                        <!-- ËÆ®ËÆ∫ËÆ∞ÂΩïÂ∞ÜÈÄöËøá JavaScript Âä®ÊÄÅÁîüÊàê -->
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button id="closeDetailModalBtn" class="btn btn-secondary">ÂÖ≥Èó≠</button>
                <button id="editOrderBtn" class="btn btn-primary">
                    <i class="fas fa-edit"></i> ÁºñËæë
                </button>
                <button id="createRectificationBtn" class="btn btn-success" style="display: none;">
                    <i class="fas fa-plus-circle"></i> ÁîüÊàêÊï¥ÊîπÂçï
                </button>
            </div>
        </div>
    </div>

    <!-- Êñ∞Âª∫Â∑•ÂçïÊ®°ÊÄÅÊ°Ü -->
    <div id="createOrderModal" class="modal-overlay">
        <div class="modal-container modal-lg">
            <div class="modal-header">
                <h2 class="modal-title">
                    <i class="fas fa-plus-circle"></i>Êñ∞Âª∫Â∑•Âçï
                </h2>
                <button id="closeCreateModalBtn" class="modal-close-btn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="modal-body">
                <form id="createOrderForm">
                    <div class="form-group">
                        <label class="form-label required">Â∑•ÂçïÊ†áÈ¢ò</label>
                        <input type="text" id="createOrderTitle" required class="form-control">
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label required">Â∑•ÂçïÁ±ªÂûã</label>
                            <select id="createOrderType" required class="form-control">
                                <option value="">ËØ∑ÈÄâÊã©</option>
                                <option value="Á∫™Ê£ÄÊ†∏Êü•">Á∫™Ê£ÄÊ†∏Êü•</option>
                                <option value="ÂÆ°ËÆ°Ê†∏Êü•">ÂÆ°ËÆ°Ê†∏Êü•</option>
                                <option value="ËÅîÂêàÊ†∏Êü•">ËÅîÂêàÊ†∏Êü•</option>
                                <option value="‰∏ìÈ°πÊ†∏Êü•">‰∏ìÈ°πÊ†∏Êü•</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label required">‰ºòÂÖàÁ∫ß</label>
                            <select id="createOrderPriority" required class="form-control">
                                <option value="">ËØ∑ÈÄâÊã©</option>
                                <option value="È´ò">È´ò</option>
                                <option value="‰∏≠">‰∏≠</option>
                                <option value="‰Ωé">‰Ωé</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label required">Ë¥üË¥£‰∫∫</label>
                            <select id="createOrderAssignee" required class="form-control">
                                <option value="">ËØ∑ÈÄâÊã©</option>
                                <option value="Âº†‰∏â">Âº†‰∏â</option>
                                <option value="ÊùéÂõõ">ÊùéÂõõ</option>
                                <option value="Áéã‰∫î">Áéã‰∫î</option>
                                <option value="ËµµÂÖ≠">ËµµÂÖ≠</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label required">Êà™Ê≠¢Êó•Êúü</label>
                            <input type="date" id="createOrderDeadline" required class="form-control">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label required">Â∑•ÂçïÊèèËø∞</label>
                        <textarea id="createOrderDescription" required rows="4" class="form-control"></textarea>
                    </div>
                    
                    <!-- Ê†∏Êü•ÁªÑÊàêÂëò -->
                    <div class="form-group">
                        <label class="form-label">Ê†∏Êü•ÁªÑÊàêÂëò</label>
                        <div id="teamMembersSection" class="team-members-section">
                            <div class="team-member-item">
                                <select class="form-control member-select">
                                    <option value="">ÈÄâÊã©ÊàêÂëò</option>
                                    <option value="Âº†‰∏â">Âº†‰∏â</option>
                                    <option value="ÊùéÂõõ">ÊùéÂõõ</option>
                                    <option value="Áéã‰∫î">Áéã‰∫î</option>
                                    <option value="ËµµÂÖ≠">ËµµÂÖ≠</option>
                                    <option value="Èí±‰∏É">Èí±‰∏É</option>
                                    <option value="Â≠ôÂÖ´">Â≠ôÂÖ´</option>
                                </select>
                                <select class="form-control role-select">
                                    <option value="ÁªÑÈïø">ÁªÑÈïø</option>
                                    <option value="ÊàêÂëò">ÊàêÂëò</option>
                                    <option value="ÂçèÂä©">ÂçèÂä©</option>
                                </select>
                                <button type="button" class="btn btn-sm btn-danger remove-member-btn" onclick="removeMember(this)" style="display: none;">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                        <button type="button" class="btn btn-sm btn-secondary" onclick="addTeamMember()">
                            <i class="fas fa-plus"></i> Ê∑ªÂä†ÊàêÂëò
                        </button>
                    </div>
                    
                    <!-- ‰ªªÂä°ÂàÜËß£ -->
                    <div class="form-group">
                        <label class="form-label">‰ªªÂä°ÂàÜËß£</label>
                        <div id="tasksSection" class="tasks-section">
                            <div class="task-item">
                                <input type="text" class="form-control task-title" placeholder="‰ªªÂä°Ê†áÈ¢ò">
                                <select class="form-control task-assignee">
                                    <option value="">Ë¥üË¥£‰∫∫</option>
                                    <option value="Âº†‰∏â">Âº†‰∏â</option>
                                    <option value="ÊùéÂõõ">ÊùéÂõõ</option>
                                    <option value="Áéã‰∫î">Áéã‰∫î</option>
                                    <option value="ËµµÂÖ≠">ËµµÂÖ≠</option>
                                </select>
                                <input type="date" class="form-control task-deadline" placeholder="Êà™Ê≠¢Êó•Êúü">
                                <button type="button" class="btn btn-sm btn-danger remove-task-btn" onclick="removeTask(this)" style="display: none;">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                        <button type="button" class="btn btn-sm btn-secondary" onclick="addTask()">
                            <i class="fas fa-plus"></i> Ê∑ªÂä†‰ªªÂä°
                        </button>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">ÈôÑ‰ª∂‰∏ä‰º†</label>
                        <input type="file" id="createOrderAttachment" multiple class="form-control">
                        <small class="form-text">ÊîØÊåÅ‰∏ä‰º†ÂõæÁâá„ÄÅPDF„ÄÅWordÁ≠âÊñá‰ª∂</small>
                    </div>
                </form>
            </div>
            
            <div class="modal-footer">
                <button id="cancelCreateBtn" class="btn btn-secondary">ÂèñÊ∂à</button>
                <button id="submitCreateBtn" class="btn btn-primary">
                    <i class="fas fa-check"></i> ÂàõÂª∫Â∑•Âçï
                </button>
            </div>
        </div>
    </div>

    <script src="js/common.js?v=2"></script>
    <script src="js/components.js?v=2"></script>
    <script src="js/data-service.js?v=2"></script>
    <script src="js/data-loader.js?v=2"></script>
    <script src="js/work-order.js?v=2"></script>
</body>
</html>
